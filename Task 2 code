import pandas as pd
import numpy  as np
import matplotlib.pyplot as plt
import seaborn as sns 
import plotly.express as px

import warnings
warnings.filterwarnings('ignore')

data = pd.read_csv('train.csv')

data

data_explore = data.copy()

data_explore.info()

data_explore.dtypes

data_explore.columns

data_explore.describe().T

data_explore.describe(include="O") 

data_miss = data_explore.copy()

data_miss.isnull().sum()

data_clean = data_miss.copy()

sns.heatmap(data_clean.isnull())

data_clean.dropna(inplace = True) 

data_clean.isnull().sum()

len(data_clean) 

data_fillTheNull = data_miss.copy()

sns.heatmap(data_fillTheNull.isnull())

data_viz = data_fillTheNull.copy()

data_viz.columns

survival_rate = data_viz['Survived'].mean()
print(f"Survival Rate: {survival_rate:.2f}")

plt.figure(figsize=(6, 4))
data_viz['Survived'].value_counts().plot(kind='pie', autopct='%1.1f%%', startangle=90, colors=['skyblue', 'green'])
plt.title('Overall Survival Rate')
plt.ylabel('')
plt.show()

survival_by_sex = data_viz.groupby('Sex')['Survived'].mean()
print(survival_by_sex)

plt.figure(figsize=(6, 4))
data_viz['Survived'].value_counts().plot(kind='pie', autopct='%1.1f%%', startangle=90, colors=['lightgreen', 'orange'])
plt.title('Overall Survival Rate')
plt.ylabel('')
plt.show()

survival_by_sex = data_viz.groupby('Sex')['Survived'].mean()
print(survival_by_sex)

plt.figure(figsize=(6, 4))
sns.barplot(x='Sex', y='Survived', data=data_viz, palette='pastel')
plt.title('Survival Rate by Sex')
plt.ylabel('Survival Rate')
plt.show()

age_description = data_viz['Age'].describe()
print(age_description)

plt.figure(figsize=(8, 6))
sns.histplot(data_viz['Age'], kde=True, color='lightblue')
plt.title('Age Distribution of Passengers')
plt.xlabel('Age')
plt.ylabel('Frequency')
plt.show()

plt.figure(figsize=(10, 6))
sns.histplot(data_viz[data_viz['Survived'] == 1]['Age'], kde=True, color='green', label='Survived')
sns.histplot(data_viz[data_viz['Survived'] == 0]['Age'], kde=True, color='red'  , label='Did not Survive')
plt.title('Survival Rate by Age')
plt.xlabel('Age')
plt.ylabel('Frequency')
plt.legend()
plt.show()
